<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UM DermWiki Contact Information</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            background-color: white;
            max-width: 600px;
            width: 100%;
            padding: 40px;
            border: 1px solid #ddd;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            line-height: 1.6;
        }

        h1, h2, h3 {
            color: #333;
            margin-bottom: 12px;
        }

        h1 {
            text-align: center;
            font-size: 28px;
            margin-bottom: 30px;
        }

        h2 {
            font-size: 24px;
        }

        h3 {
            font-size: 20px;
            color: #2c5aa0;
        }

        .password-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
        }

        .password-input {
            padding: 12px 16px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 6px;
            margin-right: 10px;
            margin-bottom: 15px;
            width: 200px;
            transition: border-color 0.3s ease;
        }

        .password-input:focus {
            outline: none;
            border-color: #2c5aa0;
        }

        .btn {
            padding: 8px 16px;
            font-size: 14px;
            background-color: #2c5aa0;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .btn:hover {
            background-color: #1e3d6f;
        }

        .btn-secondary {
            background-color: #6c757d;
            margin-left: 10px;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .btn-edit {
            background-color: #28a745;
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 6px 13px;
            font-size: 11px;
        }

        .btn-edit:hover {
            background-color: #1e7e34;
        }

        #content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .content-section {
            margin-bottom: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #2c5aa0;
        }

        .section-header {
            padding: 12px 16px;
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }

        .section-header:hover {
            background-color: #e9ecef;
        }

        .section-content {
            padding: 0 16px 12px;
            transition: all 0.3s ease;
            overflow: hidden;
        }

        .section-content.collapsed {
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
        }

        .collapse-icon {
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
            transition: transform 0.3s ease;
        }

        .collapse-icon.collapsed {
            transform: rotate(-90deg);
        }

        .editable {
            min-height: 30px;
            padding: 8px 12px;
            border: 2px dashed transparent;
            border-radius: 4px;
            transition: all 0.3s ease;
            cursor: text;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .editable:hover {
            background-color: #e9ecef;
        }

        .editable.editing {
            border-color: #2c5aa0;
            background-color: white;
            outline: none;
        }

        .bullet-line {
            position: relative;
            padding-left: 25px;
            margin: 5px 0;
        }

        .bullet-line::before {
            content: '•';
            position: absolute;
            left: 8px;
            color: #2c5aa0;
            font-weight: bold;
            font-size: 16px;
        }

        .edit-controls {
            display: none;
            margin-top: 15px;
            text-align: right;
        }

        .edit-controls.show {
            display: block;
        }

        .add-section-btn {
            background-color: #17a2b8;
            margin-bottom: 20px;
            display: none;
        }

        .add-section-btn:hover {
            background-color: #138496;
        }

        .add-section-btn.show {
            display: inline-block;
        }

        .delete-section-btn {
            background-color: #dc3545;
            font-size: 12px;
            padding: 4px 8px;
            margin-left: 10px;
            display: none;
        }

        .delete-section-btn:hover {
            background-color: #c82333;
        }

        .delete-section-btn.show {
            display: inline-block;
        }

        .error-message {
            color: #dc3545;
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
        }

        .success-message {
            color: #28a745;
            text-align: center;
            margin-top: 10px;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }

            .password-input {
                width: 100%;
                margin-bottom: 10px;
                margin-right: 0;
            }

            .btn-edit {
                position: static;
                display: block;
                margin: 0 auto 20px;
            }

            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>UM DermWiki Contact Information</h1>

        <div class="password-section">
            <h2>Enter Password</h2>
            <input type="password" id="password" class="password-input" placeholder="Enter password" />
            <button onclick="checkPassword()" class="btn">Submit</button>
            <div id="message"></div>
        </div>

        <div id="content">
            <button onclick="toggleEditMode()" class="btn btn-edit" id="editBtn">Edit Mode</button>
            
            <button onclick="addNewSection()" class="btn add-section-btn" id="addSectionBtn">Add New Header</button>
            
            <div id="sectionsContainer">
                <!-- Sections will be loaded from localStorage or default content -->
            </div>

            <div class="edit-controls" id="editControls">
                <button onclick="saveChanges()" class="btn">Save Changes</button>
                <button onclick="cancelEdit()" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let isEditMode = false;
        let originalContent = {};
        let sectionCounter = 0;
        const correctPassword = "derm2025";

        // Default sections data
        const defaultSections = [
            {
                id: '1',
                heading: 'Dermatology Clinic Administrator',
                content: '<span class="bullet-line">Carol Becker 734-615-8199</span>',
                collapsed: false
            },
            {
                id: '2', 
                heading: 'Taubman Clinic',
                content: `<b>Clinic Manager</b> – Kari Smith 6-7022 (TC), pager 36656

<b>Taubman Clinical Support Staff (6-4054 call center or 6-4055 TC MA desk)</b><br><span class="bullet-line">Beth Porter, MA Lab Monitoring (offsite)</span><br><span class="bullet-line">&nbsp;</span>Dawn Graham, MA Specialist Lead<br><span class="bullet-line">Heather Puro, MA Scribe</span><br><span class="bullet-line">&nbsp;</span>Janie Osak, MA Scribe<br><span class="bullet-line">Dustina Hall, MA</span><br><span class="bullet-line">&nbsp;</span>Quartez Vickerson, MA<br><span class="bullet-line">Mendy Ball, LPN</span><br><span class="bullet-line">&nbsp;</span>Ashley Kidd, LPN<br><span class="bullet-line">Vanessa Kusak, LPN</span><br><span class="bullet-line">&nbsp;</span>Jennifer Pieknick, LPN<br><span class="bullet-line">Kaitlyn Henry, Pharm Tech for non-infusion med PAs (offsite)</span><br><span class="bullet-line">&nbsp;</span>Kelly Miller, Pharm Tech for non-infusion pharmacy PAs (offsite)

<b>Taubman- Front Desk Staff</b><br><span class="bullet-line">Jamie Yerebeck, PSA Lead</span><br><span class="bullet-line">&nbsp;</span>Libby Plank<br><span class="bullet-line">Katie Hall</span><br><span class="bullet-line">&nbsp;</span>Sherry Murrell

<b>Call Center Schedulers - (work offsite) 6-4054</b><br><span class="bullet-line">Claudette Peterson (Supervisor)</span><br><span class="bullet-line">&nbsp;</span>Kellen Taylor (Lead)<br><span class="bullet-line">Kim Poches</span><br><span class="bullet-line">&nbsp;</span>Gretchen Quinn<br><span class="bullet-line">Sarah Primm</span><br><span class="bullet-line">&nbsp;</span>Hailey Johnson<br><span class="bullet-line">Chelsea Chafin</span><br><span class="bullet-line">&nbsp;</span>Keyana Weathers<br><span class="bullet-line">Areon Johnson</span><br><span class="bullet-line">&nbsp;</span>Talisha Warren<br><span class="bullet-line">Thomas Kerschbaum</span>`,
                collapsed: true
            },
            {
                id: '3',
                heading: 'Dominos Farms Clinic', 
                content: `<b>Address</b>
24 Frank Lloyd Wright Drive
Lobby H, Suite 2350 
Ann Arbor, Michigan 48105-5751

<b>DF Clinic Manager</b> – Eric Dockus Pager 36656<br><span class="bullet-line">Administrative issues, urgent requests, insurance requirements, questions related to scheduling, clinic patient issues/concerns

<b>DF Clinic MA Lead</b> - Anthony Gardette (232-2297)<br><span class="bullet-line">&nbsp;</span>Administrative issues, urgent requests, clinic patient issues/concerns

<b>DF Clinical Support Staff</b><br><span class="bullet-line">&nbsp;</span>Anthony Gardette, CMA Specialist Lead<br><span class="bullet-line">&nbsp;</span>Ashley Carey, MA<br><span class="bullet-line">&nbsp;</span>Anne Kozak , MA<br><span class="bullet-line">&nbsp;</span>Alex Shultz, MA<br><span class="bullet-line">&nbsp;</span>Abigail Stodart, MA

<b>Dominos Farms Patient Services Assistants and Associates</b> Located at check in and check out (6-4054 call center, front desk 232-2210)<br><span class="bullet-line">&nbsp;</span>Nicole Zaher, PSA Lead <br><span class="bullet-line">&nbsp;</span>Jenni Jacobsen <br><span class="bullet-line">&nbsp;</span>Chuck Hayes <br><span class="bullet-line">&nbsp;</span>Jennifer Knight <br><span class="bullet-line">&nbsp;</span>Arika Smith</span>`,
                collapsed: true
            }
        ];

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('password').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    checkPassword();
                }
            });
        });

        // Password validation function
        function checkPassword() {
            const input = document.getElementById("password").value;
            const messageDiv = document.getElementById("message");
            
            if (input === correctPassword) {
                document.getElementById("content").style.display = "block";
                document.querySelector(".password-section").style.display = "none";
                showMessage("Access granted!", "success");
                loadContent();
            } else {
                showMessage("Incorrect password. Please try again.", "error");
                document.getElementById("password").value = "";
                document.getElementById("password").focus();
            }
        }

        // Load content from localStorage or use defaults
        function loadContent() {
            const savedSections = localStorage.getItem('dermwiki-sections');
            let sections;
            
            if (savedSections) {
                try {
                    sections = JSON.parse(savedSections);
                } catch (error) {
                    console.error('Error parsing saved sections:', error);
                    sections = defaultSections;
                }
            } else {
                sections = defaultSections;
                saveToLocalStorage(sections);
            }
            
            renderSections(sections);
            sectionCounter = Math.max(...sections.map(s => parseInt(s.id)));
        }

        // Render sections in the DOM
        function renderSections(sections) {
            const container = document.getElementById('sectionsContainer');
            container.innerHTML = '';
            
            sections.forEach(section => {
                createSectionElement(section);
            });
        }

        // Create a section element
        function createSectionElement(sectionData) {
            const container = document.getElementById('sectionsContainer');
            const section = document.createElement('div');
            section.className = 'content-section';
            section.setAttribute('data-section-id', sectionData.id);
            
            const collapseClass = sectionData.collapsed ? 'collapsed' : '';
            const iconText = sectionData.collapsed ? '▶' : '▼';
            const iconClass = sectionData.collapsed ? 'collapsed' : '';
            
            section.innerHTML = `
                <div class="section-header" onclick="toggleSection(this)">
                    <h3 class="editable" data-key="heading-${sectionData.id}" contenteditable="false">${sectionData.heading}</h3>
                    <span class="collapse-icon ${iconClass}">${iconText}</span>
                    <button onclick="deleteSection(this)" class="btn delete-section-btn">Delete</button>
                </div>
                <div class="section-content ${collapseClass}">
                    <p class="editable" data-key="paragraph-${sectionData.id}" contenteditable="false">${sectionData.content}</p>
                </div>
            `;
            
            container.appendChild(section);
        }

        // Save sections to localStorage
        function saveToLocalStorage(sections = null) {
            if (!sections) {
                sections = getCurrentSections();
            }
            localStorage.setItem('dermwiki-sections', JSON.stringify(sections));
        }

        // Get current sections from DOM
        function getCurrentSections() {
            const sections = [];
            const sectionElements = document.querySelectorAll('.content-section');
            
            sectionElements.forEach(element => {
                const id = element.getAttribute('data-section-id');
                const heading = element.querySelector(`[data-key="heading-${id}"]`).innerHTML;
                const content = element.querySelector(`[data-key="paragraph-${id}"]`).innerHTML;
                const collapsed = element.querySelector('.section-content').classList.contains('collapsed');
                
                sections.push({
                    id: id,
                    heading: heading,
                    content: content,
                    collapsed: collapsed
                });
            });
            
            return sections;
        }

        // Show success or error messages
        function showMessage(text, type) {
            const messageDiv = document.getElementById("message");
            messageDiv.textContent = text;
            messageDiv.className = type === "success" ? "success-message" : "error-message";
            
            setTimeout(() => {
                messageDiv.textContent = "";
                messageDiv.className = "";
            }, 3000);
        }

        // Toggle collapsible sections
        function toggleSection(headerElement) {
            if (event.target.classList.contains('delete-section-btn') || 
                (event.target.classList.contains('editable') && isEditMode)) {
                return;
            }
            
            const content = headerElement.nextElementSibling;
            const icon = headerElement.querySelector('.collapse-icon');
            
            if (content.classList.contains('collapsed')) {
                content.classList.remove('collapsed');
                icon.classList.remove('collapsed');
                icon.textContent = '▼';
            } else {
                content.classList.add('collapsed');
                icon.classList.add('collapsed');
                icon.textContent = '▶';
            }
            
            // Save state
            saveToLocalStorage();
        }

        // Add new section
        function addNewSection() {
            sectionCounter++;
            
            const newSection = {
                id: sectionCounter.toString(),
                heading: 'New Header',
                content: 'Enter your content here. Click Edit Mode to modify this text.',
                collapsed: false
            };
            
            createSectionElement(newSection);
            
            // If in edit mode, make new elements editable
            if (isEditMode) {
                const newSectionElement = document.querySelector(`[data-section-id="${sectionCounter}"]`);
                const editableElements = newSectionElement.querySelectorAll('.editable');
                editableElements.forEach(element => {
                    element.contentEditable = "true";
                    element.classList.add("editing");
                });
                newSectionElement.querySelector('.delete-section-btn').classList.add('show');
            }
            
            saveToLocalStorage();
            showMessage("New section added!", "success");
        }

        // Delete section
        function deleteSection(buttonElement) {
            event.stopPropagation();
            const section = buttonElement.closest('.content-section');
            
            if (confirm('Are you sure you want to delete this section?')) {
                section.remove();
                saveToLocalStorage();
                showMessage("Section deleted!", "success");
            }
        }

        // Toggle edit mode
        function toggleEditMode() {
            const editBtn = document.getElementById("editBtn");
            const editControls = document.getElementById("editControls");
            const addSectionBtn = document.getElementById("addSectionBtn");
            const editableElements = document.querySelectorAll(".editable");
            const deleteButtons = document.querySelectorAll(".delete-section-btn");
            
            if (!isEditMode) {
                // Enter edit mode
                isEditMode = true;
                editBtn.textContent = "Exit Edit Mode";
                editBtn.style.backgroundColor = "#dc3545";
                editControls.classList.add("show");
                addSectionBtn.classList.add("show");
                
                // Store original content
                editableElements.forEach(element => {
                    const key = element.getAttribute('data-key');
                    originalContent[key] = element.innerHTML;
                    element.contentEditable = "true";
                    element.classList.add("editing");
                });
                
                // Show delete buttons
                deleteButtons.forEach(btn => btn.classList.add("show"));
                
                showMessage("Edit mode enabled. Click on any text to modify it.", "success");
            } else {
                // Exit edit mode without saving
                exitEditMode();
            }
        }

        // Exit edit mode
        function exitEditMode() {
            isEditMode = false;
            const editBtn = document.getElementById("editBtn");
            const editControls = document.getElementById("editControls");
            const addSectionBtn = document.getElementById("addSectionBtn");
            const editableElements = document.querySelectorAll(".editable");
            const deleteButtons = document.querySelectorAll(".delete-section-btn");
            
            editBtn.textContent = "Edit Mode";
            editBtn.style.backgroundColor = "#28a745";
            editControls.classList.remove("show");
            addSectionBtn.classList.remove("show");
            
            editableElements.forEach(element => {
                element.contentEditable = "false";
                element.classList.remove("editing");
            });
            
            // Hide delete buttons
            deleteButtons.forEach(btn => btn.classList.remove("show"));
        }

        // Save changes
        function saveChanges() {
            saveToLocalStorage();
            exitEditMode();
            showMessage("Changes saved successfully!", "success");
        }

        // Cancel edit and restore original content
        function cancelEdit() {
            const editableElements = document.querySelectorAll(".editable");
            
            editableElements.forEach(element => {
                const key = element.getAttribute('data-key');
                if (originalContent[key]) {
                    element.innerHTML = originalContent[key];
                }
            });
            
            exitEditMode();
            showMessage("Changes cancelled.", "success");
        }
    </script>
</body>
</html>
